generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["fullTextSearch"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model pais {
  id         String       @id
  nome       String
  iso3       String       @unique
  saude      saude[]
  economia   economia[]
  ambiente   ambiente[]
  tecnologia tecnologia[]
  demografia demografia[]

  @@map("pais")
}

model indicador {
  id         String       @id
  nome       String
  categoria  categoria
  saude      saude[]
  economia   economia[]
  ambiente   ambiente[]
  tecnologia tecnologia[]
  demografia demografia[]

  @@map("indicador")
}

enum categoria {
  SAUDE
  ECONOMIA
  AMBIENTE
  TECNOLOGIA
  DEMOGRAFIA
}

model saude {
  id           Int       @id @default(autoincrement())
  valor        Float
  ano          Int
  pais         pais      @relation(fields: [pais_id], references: [id])
  pais_id      String
  indicador    indicador @relation(fields: [indicador_id], references: [id])
  indicador_id String

  @@unique([pais_id, indicador_id, ano])
  @@index([pais_id])
  @@index([indicador_id])
  @@map("saude")
}

model economia {
  id           Int       @id @default(autoincrement())
  valor        Float
  ano          Int
  pais         pais      @relation(fields: [pais_id], references: [id])
  pais_id      String
  indicador    indicador @relation(fields: [indicador_id], references: [id])
  indicador_id String

  @@unique([pais_id, indicador_id, ano])
  @@index([pais_id])
  @@index([indicador_id])
  @@map("economia")
}

model ambiente {
  id           Int       @id @default(autoincrement())
  valor        Float
  ano          Int
  pais         pais      @relation(fields: [pais_id], references: [id])
  pais_id      String
  indicador    indicador @relation(fields: [indicador_id], references: [id])
  indicador_id String

  @@unique([pais_id, indicador_id, ano])
  @@index([pais_id])
  @@index([indicador_id])
  @@map("ambiente")
}

model tecnologia {
  id           Int       @id @default(autoincrement())
  valor        Float
  ano          Int
  pais         pais      @relation(fields: [pais_id], references: [id])
  pais_id      String
  indicador    indicador @relation(fields: [indicador_id], references: [id])
  indicador_id String

  @@unique([pais_id, indicador_id, ano])
  @@index([pais_id])
  @@index([indicador_id])
  @@map("tecnologia")
}

model demografia {
  id           Int       @id @default(autoincrement())
  valor        Float
  ano          Int
  pais         pais      @relation(fields: [pais_id], references: [id])
  pais_id      String
  indicador    indicador @relation(fields: [indicador_id], references: [id])
  indicador_id String

  @@unique([pais_id, indicador_id, ano])
  @@index([pais_id])
  @@index([indicador_id])
  @@map("demografia")
}
